<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1"/>
  <title>POS Blueprint Leaderboard</title>
  <link rel="stylesheet" href="styles.css"/>
  <meta name="description"
        content="Live leaderboard for POS blueprint runs from Zenodo"/>
</head>
<body>
  <header class="site-header">
    <h1>POS Blueprint Leaderboard</h1>
    <p class="subtitle">
      Live from Zenodo by keyword:
      <code id="kw"></code>
    </p>

    <div class="controls">
      <label>Sort
        <select id="sort">
          <option value="created:desc">Newest</option>
          <option value="avg_power_w:asc">Avg power ↑</option>
          <option value="peak_power_w:asc">Peak power ↑</option>
          <option value="energy_wh:asc">Energy (Wh) ↑</option>
        </select>
      </label>

      <label>CPU filter
        <input id="cpuFilter" placeholder="e.g. 7950X or Xeon"/>
      </label>

      <button id="refresh" type="button">Refresh</button>
    </div>

    <div id="stats" class="stats"></div>

    <details class="howto">
      <summary>How to appear here</summary>
      <ol>
        <li>Run the blueprint with <code>--publish</code>.</li>
        <li>Include the Zenodo keyword <code id="kw2"></code>
            (put it in <em>keywords</em> or in the description).</li>
        <li>Reload this page to see your run.</li>
      </ol>
    </details>
  </header>

  <main id="grid" class="grid" aria-live="polite"></main>

  <footer class="site-footer">
    <small>
      This is a static site. Data loads from Zenodo’s public API.
      Your record must include the configured keyword to be shown.
    </small>
  </footer>

  <script>
    window.APP_CFG = {
      mode: "keyword",             // "keyword" | "community"
      keyword: "pos-blueprint:stress-energy",
      // For moderated ingestion instead, use:
      // mode: "community", community: "your-community-id",
      zenodoApi: "https://zenodo.org/api",
      pageSize: 100
    };
  </script>
  <script src="app.js"></script>
</body>
</html>
